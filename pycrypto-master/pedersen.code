
import "utils/multiplexer/lookup3bitSigned.code" as sel3s
import "utils/multiplexer/lookup2bit.code" as sel2
import "ecc/babyjubjubParams.code" as context
import "ecc/edwardsAdd.code" as add
def main(field[18] e) -> (field[2]):
	context = context()
	field[2] a = [context[2], context[3]] //Infinity
	//Round 0
	cx = sel3s([e[0], e[1], e[2]], [4307693426070117673791480659371115687335646548518631914572449669218878115204 , 17917287935631591382328875849196754461215524524073108600950417155064632690302, 14604414280293297267695279491953822215135384601653741117210953743108316447446, 6324033972322053747659140376441269025727848105474111437670125912725278386397])
	cy = sel2([e[0], e[1]], [9987976285644005441360974850663153936621943685373764074465538505333053054682 , 4817305086023416136358251306772645381610621862518445610689962559654137578982, 1434368515500032363622369984788800815468183562652230713144310349282453542438, 8805031528105814032073672301233095560291267255268411850222453746737467762215])
	a = add(a, [cx, cy], context)
	//Round 1
	cx = sel3s([e[3], e[4], e[5]], [18714036070466594513205026927380848112915337051965841087690735630772937610687 , 6786602735205833146381763549932998434478792264324957934934036300070375978099, 3779140685623953215687166537845294923710567148018851413029497807124018560889, 6099727205484676525614677273439114230209124909972417710151540307086803886361])
	cy = sel2([e[3], e[4]], [9155145208828338213335336750380896786564853682113278109902091418577956729507 , 13143120439637946147369487788490561449690268464791120461324595904750359578829, 15128494977726673010983568936241834230919957101111122518453614451095272060163, 19561324309648382867825821605258316981226162985524280552856973707255102065566])
	a = add(a, [cx, cy], context)
	//Round 2
	cx = sel3s([e[6], e[7], e[8]], [21054903077405396896167434403194311546602280287738148039951261391985014737265 , 13185394463061029137101361471762627023767519610975448591296726943907748873427, 17021466722102708225630849513311731035218874587304479798212627299855640978971, 12527178149596705364784693951919667720051551935947888401015676466292178184996])
	cy = sel2([e[6], e[7]], [18967682980171238561114245936992325004313713998178825328188779310140148364733 , 265706452722099786189669475669336233332876543549493894778032864196527681705, 49462867174488758260565998258455970914662274622997961953254977826030815769, 3355618723545936018230402751113643213494135606735200026045096590757155661823])
	a = add(a, [cx, cy], context)
	//Round 3
	cx = sel3s([e[9], e[10], e[11]], [5185540150486042958964989198915478688466591121401453242924765807541979497110 , 2255403262667346086541788321806173238798746564433673739889996993036966222741, 20735665158702973629370025124261132384876306073320796057951919881706382749984, 226317906768724225806495299459563551093265992148541060317540342868387713609])
	cy = sel2([e[9], e[10]], [1894533471233094317892439930412288785608976422742797763992717429770256025462 , 11359785315083917525575416047891896242921133116563678284492663847518556601249, 20081415979250765347673725045146062010962066540264616520401324931549397337366, 1836578919616330193420265366053288191043018126714296091201762336260851923232])
	a = add(a, [cx, cy], context)
	//Round 4
	cx = sel3s([e[12], e[13], e[14]], [9612160974525500795721688362753233244230105012181148055570263446606765169603 , 20999526796750277112427885047617049909441244292353536274410762821972294391747, 16443723099181999188005800327707158794655163440517794574143592219243194183546, 11278783333833164873214434477029614599088994627980896960436925539341702500769])
	cy = sel2([e[12], e[13]], [12751514711875283164983637996615684073428380422287298893194391049528971339568 , 411233284276669696316618996761898841349736568813204457414268249605261175725, 21646439644577915302461848060075185288255106422629908012651487200349533114230, 12590711742447811180994354907677540743302589067596395755177614123641780511709])
	a = add(a, [cx, cy], context)
	//Round 5
	cx = sel3s([e[15], e[16], e[17]], [10145298660771522244875295651053644385271792230326285540617536439080654048421 , 11086936500756833171981282924181623999562318409583011672981638909818084871205, 16341935158867308709015201362337791165180245984610393565351263346542448899670, 17331944991492788115040590216758124354986718093601221420563424305690328285049])
	cy = sel2([e[15], e[16]], [10559906907587903236923249387490873211685212831656820557079009610803620091467 , 11872719973936676020806032313328667420171675112085115019052217645278176479986, 16740553092267664322285851203001283991368672852572143751635251250581153809699, 684180681293666084667217733688518531770724778208635004782906999444619260959])
	a = add(a, [cx, cy], context)
	return a